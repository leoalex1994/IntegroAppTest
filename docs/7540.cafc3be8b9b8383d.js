"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7540],{8781:(le,Q,m)=>{m.d(Q,{Uw:()=>j,fo:()=>se});var x=m(8239);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var k=(()=>{return(d=k||(k={})).Unimplemented="UNIMPLEMENTED",d.Unavailable="UNAVAILABLE",k;var d})();class F extends Error{constructor(s,l){super(s),this.message=s,this.code=l}}const B=d=>{var s,l,u,P,w;const C=d.CapacitorCustomPlatform||null,g=d.Capacitor||{},J=g.Plugins=g.Plugins||{},b=d.CapacitorPlatforms,H=(null===(s=null==b?void 0:b.currentPlatform)||void 0===s?void 0:s.getPlatform)||(()=>null!==C?C.name:(d=>{var s,l;return null!=d&&d.androidBridge?"android":null!==(l=null===(s=null==d?void 0:d.webkit)||void 0===s?void 0:s.messageHandlers)&&void 0!==l&&l.bridge?"ios":"web"})(d)),z=(null===(l=null==b?void 0:b.currentPlatform)||void 0===l?void 0:l.isNativePlatform)||(()=>"web"!==H()),V=(null===(u=null==b?void 0:b.currentPlatform)||void 0===u?void 0:u.isPluginAvailable)||(h=>{const f=E.get(h);return!!(null!=f&&f.platforms.has(H())||G(h))}),G=(null===(P=null==b?void 0:b.currentPlatform)||void 0===P?void 0:P.getPluginHeader)||(h=>{var f;return null===(f=g.PluginHeaders)||void 0===f?void 0:f.find(q=>q.name===h)}),E=new Map,ne=(null===(w=null==b?void 0:b.currentPlatform)||void 0===w?void 0:w.registerPlugin)||((h,f={})=>{const q=E.get(h);if(q)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),q.proxy;const L=H(),R=G(h);let A;const oe=function(){var c=(0,x.Z)(function*(){return!A&&L in f?A=A="function"==typeof f[L]?yield f[L]():f[L]:null!==C&&!A&&"web"in f&&(A=A="function"==typeof f.web?yield f.web():f.web),A});return function(){return c.apply(this,arguments)}}(),o=c=>{let p;const y=(...T)=>{const U=oe().then(M=>{const I=((c,p)=>{var y,T;if(!R){if(c)return null===(T=c[p])||void 0===T?void 0:T.bind(c);throw new F(`"${h}" plugin is not implemented on ${L}`,k.Unimplemented)}{const U=null==R?void 0:R.methods.find(M=>p===M.name);if(U)return"promise"===U.rtype?M=>g.nativePromise(h,p.toString(),M):(M,I)=>g.nativeCallback(h,p.toString(),M,I);if(c)return null===(y=c[p])||void 0===y?void 0:y.bind(c)}})(M,c);if(I){const Y=I(...T);return p=null==Y?void 0:Y.remove,Y}throw new F(`"${h}.${c}()" is not implemented on ${L}`,k.Unimplemented)});return"addListener"===c&&(U.remove=(0,x.Z)(function*(){return p()})),U};return y.toString=()=>`${c.toString()}() { [capacitor code] }`,Object.defineProperty(y,"name",{value:c,writable:!1,configurable:!1}),y},a=o("addListener"),t=o("removeListener"),n=(c,p)=>{const y=a({eventName:c},p),T=function(){var M=(0,x.Z)(function*(){const I=yield y;t({eventName:c,callbackId:I},p)});return function(){return M.apply(this,arguments)}}(),U=new Promise(M=>y.then(()=>M({remove:T})));return U.remove=(0,x.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield T()}),U},r=new Proxy({},{get(c,p){switch(p){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return R?n:a;case"removeListener":return t;default:return o(p)}}});return J[h]=r,E.set(h,{name:h,proxy:r,platforms:new Set([...Object.keys(f),...R?[L]:[]])}),r});return g.convertFileSrc||(g.convertFileSrc=h=>h),g.getPlatform=H,g.handleError=h=>d.console.error(h),g.isNativePlatform=z,g.isPluginAvailable=V,g.pluginMethodNoop=(h,f,q)=>Promise.reject(`${q} does not have an implementation of "${f}".`),g.registerPlugin=ne,g.Exception=F,g.DEBUG=!!g.DEBUG,g.isLoggingEnabled=!!g.isLoggingEnabled,g.platform=g.getPlatform(),g.isNative=g.isNativePlatform(),g},S=(d=>d.Capacitor=B(d))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),se=S.registerPlugin;class j{constructor(s){this.listeners={},this.windowListeners={},s&&(console.warn(`Capacitor WebPlugin "${s.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=s)}addListener(s,l){var u=this;this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(l);const w=this.windowListeners[s];w&&!w.registered&&this.addWindowListener(w);const C=function(){var J=(0,x.Z)(function*(){return u.removeListener(s,l)});return function(){return J.apply(this,arguments)}}(),g=Promise.resolve({remove:C});return Object.defineProperty(g,"remove",{value:(J=(0,x.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield C()}),function(){return J.apply(this,arguments)})}),g;var J}removeAllListeners(){var s=this;return(0,x.Z)(function*(){s.listeners={};for(const l in s.windowListeners)s.removeWindowListener(s.windowListeners[l]);s.windowListeners={}})()}notifyListeners(s,l){const u=this.listeners[s];u&&u.forEach(P=>P(l))}hasListeners(s){return!!this.listeners[s].length}registerWindowListener(s,l){this.windowListeners[l]={registered:!1,windowEventName:s,pluginEventName:l,handler:u=>{this.notifyListeners(l,u)}}}unimplemented(s="not implemented"){return new S.Exception(s,k.Unimplemented)}unavailable(s="not available"){return new S.Exception(s,k.Unavailable)}removeListener(s,l){var u=this;return(0,x.Z)(function*(){const P=u.listeners[s];if(!P)return;const w=P.indexOf(l);u.listeners[s].splice(w,1),u.listeners[s].length||u.removeWindowListener(u.windowListeners[s])})()}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}}},7540:(le,Q,m)=>{m.r(Q),m.d(Q,{PagesModule:()=>ie});var x=m(8692),i=m(4791),v=m(9900),O=m(9340),$=m(4762),Z=m(2340);const k={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let F;const W=new Uint8Array(16);function B(){if(!F&&(F=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!F))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return F(W)}const _=[];for(let o=0;o<256;++o)_.push((o+256).toString(16).slice(1));const j=function ae(o,a,t){if(k.randomUUID&&!a&&!o)return k.randomUUID();const n=(o=o||{}).random||(o.rng||B)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,a){t=t||0;for(let r=0;r<16;++r)a[t+r]=n[r];return a}return function S(o,a=0){return(_[o[a+0]]+_[o[a+1]]+_[o[a+2]]+_[o[a+3]]+"-"+_[o[a+4]]+_[o[a+5]]+"-"+_[o[a+6]]+_[o[a+7]]+"-"+_[o[a+8]]+_[o[a+9]]+"-"+_[o[a+10]]+_[o[a+11]]+_[o[a+12]]+_[o[a+13]]+_[o[a+14]]+_[o[a+15]]).toLowerCase()}(n)};var e=m(7241),d=m(5732),s=m(4121),l=m(7969),u=m(1628);const w=(0,m(8781).fo)("Http",{web:()=>m.e(6596).then(m.bind(m,6596)).then(o=>new o.HttpWeb),electron:()=>m.e(6596).then(m.bind(m,6596)).then(o=>new o.HttpWeb)});var C=m(985);const g={"Content-Type":"application/json",Accept:"application/json, text/plain, /,charset=utf-8",Authorization:"Basic QVBLOj5HfUcvdzQ9VjZUcVN6Uw=="};let J=(()=>{class o{constructor(){}doGet(t){return(0,C.D)(w.get({url:t,method:"GET",headers:g}))}doGetAut(t,n){return(0,C.D)(w.get({url:t,method:"GET",headers:n}))}doPost(t,n){return(0,C.D)(w.post({url:t,method:"POST",headers:g,data:n}))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=m(3608);const N=Z.N.path,H=new d.WM;H.append("Content-Type","application/json"),H.append("Accept","application/json"),H.append("Authorization","Basic QVBLOj5HfUcvdzQ9VjZUcVN6Uw==");let z=(()=>{class o{constructor(t,n,r,c,p,y,T,U){this.http=t,this.storage=n,this.loadingController=r,this.alertCtrl=c,this.platform=p,this.nativeHttp=y,this.iab=T,this.navCtrl=U,this.authState=new s.X(!1),this.isLoading=!1,this.onUsuarioChanged=new s.X(null),this.storage.create(),this.platform.ready().then(()=>{this.ifLoggedIn()})}setStorageUser(t){this.storage.set("user",t),this.onUsuarioChanged.next(t),this.authState.next(!(null==t||!t.email))}getStorageUser(){return this.storage.get("user").then(t=>(this.onUsuarioChanged.next(t),t||(t=[]),t))}ifLoggedIn(){this.storage.get("user").then(t=>{t&&t.idUsuario?(this.onUsuarioChanged.next(t),this.authState.next(!0)):this.authState.next(!1)})}isAuthenticated(){return this.authState.value}login(t){return this.nativeHttp.doPost(`${N}/auth/login`,t).pipe((0,l.U)(r=>r))}logout(t){return this.nativeHttp.doPost(`${N}/auth/logout`,t).pipe((0,l.U)(r=>r))}registerUser(t){return this.nativeHttp.doPost(`${N}/auth/register`,t).pipe((0,l.U)(r=>r))}requestPasswordReset(t){return this.nativeHttp.doPost(`${N}/auth/request-password-reset`,{email:t}).pipe((0,l.U)(r=>r))}resetPassword(t,n,r){return this.nativeHttp.doPost(`${N}/auth/password-reset`,{email:t,otp:n,password:r}).pipe((0,l.U)(p=>p))}callEncrypt(t,n){return this.nativeHttp.doGet(`${Z.N.endpoints.encrypt}?uuid=${t}&user=${n}`)}getUakikaToken(t,n){return this.nativeHttp.doGet(`${Z.N.uakika.token}?nonce=${t}&user=${n}`)}getFactoRHToken(t,n){return this.nativeHttp.doGet(`${Z.N.factorh.token}?nonce=${t}&user=${n}`)}getFactoRHnotification(t){const n=`${Z.N.factorh.urlNotificaciones}/empleados/${t}/notificaciones_portal`;return console.log(n),this.nativeHttp.doGetAut(n,{"Content-Type":"application/json",Accept:"application/json, text/plain, /,charset=utf-8",Authorization:"Basic aW50ZWdybzoxTjdHNDB3MiE="})}redirect(t){this.iab.create(t,"_blank",{hideurlbar:"yes",hidenavigationbuttons:"yes",toolbar:"no",clearcache:"yes",cleardata:"yes",fullscreen:"yes",clearsessioncache:"no",location:"no"})}presentAlert(t,n,r){return(0,$.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:t,message:n,buttons:[r]})).present()})}dismissSpinner(){return(0,$.mG)(this,void 0,void 0,function*(){return this.isLoading=!1,yield this.loadingController.dismiss().then(()=>console.log("dismissed"))})}presentSpinner(){return(0,$.mG)(this,void 0,void 0,function*(){return this.isLoading=!0,yield this.loadingController.create({message:"Cargando",spinner:"dots"}).then(t=>{t.present().then(()=>{this.isLoading||t.dismiss().then(()=>console.log("abort presenting"))})})})}backButton(){this.navCtrl.back()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(d.eN),e.LFG(u.K),e.LFG(i.HT),e.LFG(i.Br),e.LFG(i.t4),e.LFG(J),e.LFG(b.i),e.LFG(i.SH))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function D(o,a){1&o&&(e.TgZ(0,"ion-title"),e._uU(1," Bienvenido "),e.qZA())}function V(o,a){1&o&&(e.TgZ(0,"ion-fab-button",27),e._UZ(1,"ion-icon",28),e.qZA()),2&o&&e.Q6J("routerLink","/register")}function K(o,a){if(1&o&&(e.TgZ(0,"h2",29),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("Hola ",t.user.name,"!")}}const G=Z.N;let X=(()=>{class o{constructor(t,n,r){this.platform=t,this.service=n,this.navCtrl=r,this.showForm=!1,this.logo="assets/logos/ubits.jpeg",this.passwordType="password",this.color="color",this.today=new Date,this.uakika=G.uakika.url,this.isAdmin=!1,this.ubitsClass="ubits-image",this.notifyCount=0,this.notifyArray=[],this.integro=this.today.getHours()>=16&&this.today.getHours()<6?"assets/logos/integroWhite.png":"assets/logos/integro.png"}ngOnInit(){return(0,$.mG)(this,void 0,void 0,function*(){yield this.refreshUser(),this.notifyCount=this.notifyArray.length})}refreshUser(){this.service.getStorageUser().then(t=>{null!=t&&t.email?(this.user=t,this.getNotificaciones(this.user.email),this.isAdmin="admin"===this.user.role):this.navCtrl.navigateRoot("login")})}changeImages(){setTimeout(()=>{this.ubitsClass="ubits-image2"},5e3)}selectApp(t){switch(this.app=t,this.showForm=!1,t){case"ubits":this.loginUbits();break;case"uakika":this.loginUakika();break;case"factorh":this.loginFactoRH();break;case"hrider":window.open("https://outlook.office.com/","_system","location=yes");break;default:this.showForm=!1}}togglePasswordMode(){this.passwordType="text"===this.passwordType?"password":"text"}login(){this.service.redirect(G.hrider.url)}loginUbits(){this.service.callEncrypt(Z.N.ubits.uuid,this.user.email).subscribe(n=>{var r;if(null!==(r=n.data)&&void 0!==r&&r.status){const c=String(n.data.url);this.service.redirect(c)}})}loginUakika(){const t=j();this.service.getUakikaToken(t,this.user.email).subscribe(n=>{if(200===n.status){const r=String(n.data);this.service.redirect(`${Z.N.uakika.url}?token=${r}&username=${this.user.email}&nonce=${t}`)}else this.service.presentAlert("Mensaje","Ha ocurrido un error al generar tu sesi\xf3n, por favor contacta al administrador","Aceptar")})}loginFactoRH(){const t=j();this.service.getFactoRHToken(t,this.user.email).subscribe(n=>{if(200===n.status){const r=String(n.data);this.service.redirect(`${Z.N.factorh.url}?token=${r}&user=${this.user.email}&nonce=${t}`)}else this.service.presentAlert("Mensaje","Ha ocurrido un error al generar tu sesi\xf3n, por favor contacta al administrador","Aceptar")})}backButton(){this.showForm=!1,this.color="color"}vernitificaciones(){this.navCtrl.navigateForward("/notifications/"+JSON.stringify(this.notifyArray))}getNotificaciones(t){this.service.getFactoRHnotification(t).subscribe(n=>{200===n.status?(this.notifyArray=n.data.data,this.notifyCount=n.data.total_results):this.service.presentAlert("Mensaje","Ha ocurrido un error al generar tu sesi\xf3n, por favor contacta al administrador","Aceptar")})}closeSession(){this.service.logout(this.user),this.service.setStorageUser(null),this.navCtrl.navigateRoot("login")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.t4),e.Y36(z),e.Y36(i.SH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:39,vars:7,consts:[["no-border","",1,"grey",3,"translucent"],["color","primary",2,"text-align","center"],[4,"ngIf"],[1,"background-image","mb-15","pb-5",3,"fullscreen"],["vertical","top","horizontal","end","edge","","slot","fixed"],["color","secondary"],["name","menu-outline"],["side","bottom"],["color","danger",3,"routerLink",4,"ngIf"],["color","danger",3,"click"],["name","log-out-outline"],["vertical","top","horizontal","first","edge","","slot","fixed",3,"click"],["color","secondary",2,"position","absolute","z-index","100"],["color","danger"],["name","notifications-outline"],[1,"custom-image"],[1,"greeting"],["class","title-red",4,"ngIf"],[1,"custom-subtitle",2,"color","white !important"],["size","6",1,"custom-spacing"],[1,"custom-card",3,"ngClass","click"],["size","6"],[1,"custom-card","uakika-image",3,"click"],[1,"custom-card","factorh-image",3,"click"],[1,"custom-card","hrider-image",3,"click"],["collapse","",1,"footer","mt-15"],["href","http://www.abacusall.com/",2,"color","#c5312f"],["color","danger",3,"routerLink"],["name","person-add-outline"],[1,"title-red"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e.YNc(2,D,2,0,"ion-title",2),e.qZA()(),e.TgZ(3,"ion-content",3)(4,"ion-fab",4)(5,"ion-fab-button",5),e._UZ(6,"ion-icon",6),e.qZA(),e.TgZ(7,"ion-fab-list",7),e.YNc(8,V,2,1,"ion-fab-button",8),e.TgZ(9,"ion-fab-button",9),e.NdJ("click",function(){return n.closeSession()}),e._UZ(10,"ion-icon",10),e.qZA()()(),e.TgZ(11,"ion-fab",11),e.NdJ("click",function(){return n.vernitificaciones()}),e.TgZ(12,"ion-badge",12),e._uU(13),e.qZA(),e.TgZ(14,"ion-fab-button",13),e._UZ(15,"ion-icon",14),e.qZA()(),e.TgZ(16,"div",15)(17,"div",16),e.YNc(18,K,2,1,"h2",17),e.TgZ(19,"h2",18),e._uU(20,"Selecciona una aplicaci\xf3n para ingresar:"),e.qZA()(),e.TgZ(21,"div")(22,"ion-grid")(23,"ion-row")(24,"ion-col",19)(25,"ion-card",20),e.NdJ("click",function(){return n.selectApp("ubits")}),e.qZA()(),e.TgZ(26,"ion-col",21)(27,"ion-card",22),e.NdJ("click",function(){return n.selectApp("uakika")}),e.qZA()()(),e.TgZ(28,"ion-row")(29,"ion-col",21)(30,"ion-card",23),e.NdJ("click",function(){return n.selectApp("factorh")}),e.qZA()(),e.TgZ(31,"ion-col",21)(32,"ion-card",24),e.NdJ("click",function(){return n.selectApp("hrider")}),e.qZA()()()()()()(),e.TgZ(33,"ion-footer",25)(34,"ion-toolbar")(35,"p"),e._uU(36," \u24b8 Integro 2022 | Desarrollado por "),e.TgZ(37,"a",26),e._uU(38,"Soludinamic "),e.qZA()()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(2),e.Q6J("ngIf",!n.showForm),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("ngIf",n.isAdmin),e.xp6(5),e.Oqu(n.notifyCount),e.xp6(5),e.Q6J("ngIf",null==n.user?null:n.user.name),e.xp6(7),e.Q6J("ngClass","custom-card "+n.ubitsClass))},dependencies:[x.mk,x.O5,i.yp,i.PM,i.wI,i.W2,i.IJ,i.W4,i.zq,i.fr,i.jY,i.Gu,i.gu,i.Nd,i.wd,i.sr,i.YI,O.rH],styles:["#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}.grey[_ngcontent-%COMP%]{background-color:#8d8c8e}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.footer[_ngcontent-%COMP%]{font-style:oblique;font-size:14px;font-weight:900;text-align:center}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-weight:900}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{text-decoration:none}.user-icon[_ngcontent-%COMP%]{min-width:56px;min-height:56px;max-width:56px;max-height:56px;height:100%;width:100%}.greeting[_ngcontent-%COMP%]{z-index:20;top:0px;height:25%;width:100%;background-color:#000;border-bottom-left-radius:50px;border-bottom-right-radius:50px;padding:50px 50px 0;text-align:center}.custom-image[_ngcontent-%COMP%]{position:absolute;bottom:0;height:100%;width:100%;background:url(/assets/images/app-pngArtboard23.png) no-repeat fixed center;background-size:cover}.custom-subtitle[_ngcontent-%COMP%]{font-size:medium;margin:20px}.custom-spacing[_ngcontent-%COMP%]{margin:0}.ubits-image[_ngcontent-%COMP%]{background:url(/assets/images/app-pngArtboard17.png) no-repeat fixed center;background-size:cover}.ubits-image2[_ngcontent-%COMP%]{background:url(/assets/images/app-pngArtboard25.png) no-repeat fixed center;background-size:cover}.uakika-image[_ngcontent-%COMP%]{background:url(/assets/images/app-pngArtboard19.png) no-repeat fixed center;background-size:cover}.factorh-image[_ngcontent-%COMP%]{background:url(/assets/images/app-pngArtboard20.png) no-repeat fixed center;background-size:cover}.hrider-image[_ngcontent-%COMP%]{background:url(/assets/images/app-pngArtboard21.png) no-repeat fixed center;background-size:cover}.bar-header[_ngcontent-%COMP%]{border:0px!important;border-bottom-color:transparent!important;background-image:none!important;border-bottom:none!important}.title-red[_ngcontent-%COMP%]{text-align:center;margin-left:5px;margin-right:5px;color:#c5312f}.custom-card[_ngcontent-%COMP%]{border-radius:15px;height:225px}ion-card[_ngcontent-%COMP%]{margin-inline:0px}ion-card-title[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:14px}ion-card-subtitle[_ngcontent-%COMP%]{font-size:smaller;color:#ececec}ion-card-content[_ngcontent-%COMP%]{width:100%;background-color:rgba(0,0,0,.5);position:absolute;bottom:0px}ion-footer[_ngcontent-%COMP%]{padding-bottom:0;background-color:rgba(0,0,0,.2)}#notification-button[_ngcontent-%COMP%]{position:relative;width:42px;top:1px;right:1px;overflow:visible!important}#notifications-badge[_ngcontent-%COMP%]{background-color:red;position:absolute;top:-3px;right:-3px;border-radius:100%}"]}),o})();const ee=function(){return["/recover-password"]};let E=(()=>{class o{constructor(t,n){this.service=t,this.navCtrl=n}ngOnInit(){}login(t){this.service.presentSpinner(),console.log("user",t),this.service.login(t).subscribe(n=>{this.service.dismissSpinner();const r=n.data.data;if(null!=r&&r.user){const c=r.user;c.token=r.token,this.service.user=c,this.service.setStorageUser(c),this.navCtrl.navigateRoot("/home",{replaceUrl:!0})}else this.service.presentAlert("Mensaje","Credenciales invalidas, por favor intente de nuevo","Aceptar")},n=>{this.service.dismissSpinner(),this.service.presentAlert("Mensaje","Ha ocurrido un error, por favor intente de nuevo","Aceptar"),console.log("error",n)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(z),e.Y36(i.SH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"color"],[1,"color",3,"id"],[1,"image-star"],[1,"image-login"],[1,"image-logo",3,"src"],[3,"submit"],["form","ngForm"],[1,"form-box"],[1,"input-container"],["lines","full",1,"custom-input"],["color","white","position","floating"],["type","text","required","","name","email","ngModel","","autofocus",""],["type","password","required","","name","password","ngModel",""],["type","submit","color","danger","expand","block",1,"custom-button"],["expand","full","fill","clear","color","secondary",3,"routerLink"]],template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"ion-content",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"form",5,6),e.NdJ("submit",function(){e.CHM(r);const p=e.MAs(6);return e.KtG(n.login(p.value))}),e.TgZ(7,"div",7)(8,"div",8)(9,"ion-item",9)(10,"ion-label",10),e._uU(11,"Correo"),e.qZA(),e._UZ(12,"ion-input",11),e.qZA()(),e.TgZ(13,"div",8)(14,"ion-item",9)(15,"ion-label",10),e._uU(16,"Contrase\xf1a"),e.qZA(),e._UZ(17,"ion-input",12),e.qZA()(),e.TgZ(18,"ion-button",13),e._uU(19,"Iniciar sesi\xf3n"),e.qZA(),e.TgZ(20,"ion-button",14),e._uU(21,"Olvide mi contrase\xf1a"),e.qZA()()()()()()}2&t&&(e.xp6(1),e.Q6J("id","container"),e.xp6(3),e.Q6J("src","assets/images/app-pngArtboard9.png",e.LSH),e.xp6(16),e.Q6J("routerLink",e.DdM(3,ee)))},dependencies:[v._Y,v.JJ,v.JL,v.Q7,v.On,v.F,i.YG,i.W2,i.pK,i.Ie,i.Q$,i.j9,i.YI,O.rH],styles:["#container[_ngcontent-%COMP%]{text-align:center;left:0;right:0;top:0%;height:100%;width:100%}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}.color[_ngcontent-%COMP%]{height:100%;background-color:#e1e2e4}.grey[_ngcontent-%COMP%]{background-color:#8d8c8e}.footer[_ngcontent-%COMP%]{top:0px;padding:0;height:30px;font-style:oblique;font-size:12px;text-align:center;background-color:#c5312f;vertical-align:top}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.image-star[_ngcontent-%COMP%]{height:40%;width:100%;background:url(/assets/images/app-pngArtboard8.png) no-repeat fixed center;background-size:cover}.image-login[_ngcontent-%COMP%]{position:relative;top:-10%;border-top-left-radius:50px;border-top-right-radius:50px;height:70%;width:100%;background:url(/assets/images/app-pngArtboard11.png) no-repeat fixed center;background-size:cover}.image-logo[_ngcontent-%COMP%]{padding:50px;max-width:80%}.custom-input[_ngcontent-%COMP%]{border:solid white 2px;max-height:56px;background:transparent;background-color:transparent;font-weight:900;border-radius:20px}.input-container[_ngcontent-%COMP%]{padding-bottom:12px}ion-button[_ngcontent-%COMP%]{height:56px;font-size:medium;text-transform:capitalize;--border-radius: 25px}ion-label[_ngcontent-%COMP%]{color:#fff}.form-box[_ngcontent-%COMP%]{margin:0 64px 10px}[_nghost-%COMP%]   native-input[_ngcontent-%COMP%]{--ion-item-color: black}"]}),o})();function te(o,a){1&o&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-item",17)(3,"ion-label",18),e._uU(4,"Correo"),e.qZA(),e._UZ(5,"ion-input",19),e.qZA()()())}function ne(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",20)(2,"ion-item",17)(3,"ion-label",21),e._uU(4,"C\xf3digo de verificaci\xf3n:"),e.qZA(),e._UZ(5,"ion-input",22),e.qZA()(),e.TgZ(6,"ion-col",20)(7,"ion-item",17)(8,"ion-label",21),e._uU(9,"Nueva Contrase\xf1a:"),e.qZA(),e._UZ(10,"ion-input",23),e.TgZ(11,"ion-icon",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePasswordMode())}),e.qZA()()(),e.TgZ(12,"ion-col",20)(13,"ion-item",17)(14,"ion-label",21),e._uU(15,"Repetir Contrase\xf1a:"),e.qZA(),e._UZ(16,"ion-input",25),e.TgZ(17,"ion-icon",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePasswordMode())}),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(10),e.Q6J("type",t.passwordType),e.xp6(6),e.Q6J("type",t.passwordType)}}let h=(()=>{class o{constructor(t){this.service=t,this.sent=!1,this.passwordType="password",this.email=""}requestPasswordReset(t){this.sent?this.changePass(t):this.requestOTP(t.email)}requestOTP(t){this.service.requestPasswordReset(t).subscribe(n=>{n.data.error?this.service.presentAlert("Mensaje","Lo sentimos ha ocurrido un error, vuelva a intentar","Aceptar"):n.data.data.sent?(this.service.presentAlert("Mensaje","Solicitud de cambio de contrase\xf1a exitosa, por favor revisa tu bandeja de correos","Aceptar"),this.sent=!0,this.email=t):this.service.presentAlert("Mensaje","Correo invalido, vuelva a intentar","Aceptar")})}changePass(t){t.password===t.passwordRepeat?this.service.resetPassword(this.email,String(t.otp),t.password).subscribe(n=>{n.data.error?this.service.presentAlert("Mensaje","C\xf3digo de verificaci\xf3n invalido, vuelva a intentar","Aceptar"):(this.service.presentAlert("Mensaje","Contrase\xf1a correctamente cambiada, vuelva a ingresar","Aceptar"),this.service.backButton()),console.log("res",n)}):this.service.presentAlert("Mensaje","Las contrase\xf1as no coinciden, vuelva a intentar","Aceptar")}togglePasswordMode(){this.passwordType="text"===this.passwordType?"password":"text"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-recover-password"]],decls:28,vars:3,consts:[["color","primary"],["slot","start"],["color","primary",1,"custom-back-button"],[1,"custom-text"],[1,"background"],[3,"submit"],["form","ngForm"],[1,"custom-form"],[1,"ion-align-items-center"],["size","2"],["size","8"],[1,"logo"],[3,"src"],[4,"ngIf"],["type","submit","color","secondary","expand","block"],[1,"info-text"],["info-text",""],["lines","full",1,"custom-input"],["color","white","position","floating"],["type","email","required","","name","email","ngModel",""],["size","12"],["position","floating"],["type","number","required","","name","otp","ngModel",""],["required","","name","password","ngModel","",3,"type"],["name","eye","slot","end",3,"click"],["required","","name","passwordRepeat","ngModel","",3,"type"]],template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"Reiniciar tu contrase\xf1a"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"div",4)(8,"form",5,6),e.NdJ("submit",function(){e.CHM(r);const p=e.MAs(9);return e.KtG(n.requestPasswordReset(p.value))}),e.TgZ(10,"ion-grid",7)(11,"ion-row",8),e._UZ(12,"ion-col",9),e.TgZ(13,"ion-col",10)(14,"div",11),e._UZ(15,"img",12),e.qZA()(),e._UZ(16,"ion-col",9),e.qZA(),e.YNc(17,te,6,0,"ion-row",13),e.YNc(18,ne,18,2,"ion-row",13),e.TgZ(19,"ion-row")(20,"ion-col")(21,"ion-button",14),e._uU(22,"Enviar"),e.qZA()()(),e.TgZ(23,"ion-row")(24,"ion-col")(25,"p",15)(26,"small",16),e._uU(27," Proporcione el nombre de usuario o la direcci\xf3n de correo electr\xf3nico que utiliz\xf3 para registrar su cuenta, recibir\xe1s un link al correo registrado para cambiar tu contrase\xf1a. "),e.qZA()()()()()()()()}2&t&&(e.xp6(15),e.Q6J("src","assets/images/app-pngArtboard12.png",e.LSH),e.xp6(2),e.Q6J("ngIf",!n.sent),e.xp6(1),e.Q6J("ngIf",n.sent))},dependencies:[x.O5,v._Y,v.JJ,v.JL,v.Q7,v.On,v.F,i.oU,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.Nd,i.wd,i.sr,i.as,i.j9,i.cs],styles:[".logo[_ngcontent-%COMP%]{align-content:center;margin:auto;display:flex;justify-content:center;height:100%;width:100%;min-height:150px;min-width:150px;max-height:250px;max-width:250px;padding-top:40px;padding-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;min-height:100px;min-width:100px;max-height:150px;max-width:120px}.info-text[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word;font-size:18px;font-weight:900;color:#fff}.custom-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px}.background[_ngcontent-%COMP%]{height:100%;background-color:#000;color:#fff}.custom-form[_ngcontent-%COMP%]{margin:0 50px}.custom-input[_ngcontent-%COMP%]{border:solid white 2px;max-height:56px;background:transparent;background-color:transparent;font-weight:900;border-radius:25px}ion-title[_ngcontent-%COMP%]{color:#898989;font-size:medium}ion-button[_ngcontent-%COMP%]{height:56px;font-size:medium;text-transform:capitalize;--border-radius: 20px}ion-buttons[_ngcontent-%COMP%]{padding-left:10px}.custom-back-button[_ngcontent-%COMP%]{--background: #dbdbdb;--icon-font-size: 22px;--icon-font-weight: 600;--border-radius: 5px;--icon-margin-top: 0px;--icon-margin-start: 0px;--margin-bottom: 0px;--margin-end: 0px;--margin-start: 0px;--margin-top: 0px;--min-width: 28px;--min-height: 28px;--padding-bottom: 0px;--padding-end: 0px;--padding-start: 0px;--padding-top: 0px;min-width:28px;min-height:28px;max-width:28px;max-height:28px}"]}),o})();function q(o,a){1&o&&(e.TgZ(0,"ion-title"),e._uU(1," Area de notificaciones "),e.qZA())}function L(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectApp("factorh"))}),e._UZ(1,"ion-icon",11),e.TgZ(2,"ion-label")(3,"h3"),e._uU(4,"Usuario Origen (Leonel)"),e.qZA(),e.TgZ(5,"p"),e._uU(6," Descripcion (Leonel) "),e.qZA()()()}}const A=[{path:"home",component:X},{path:"login",component:E},{path:"register",component:(()=>{class o{constructor(t,n){this.service=t,this.navCtrl=n,this.passwordType="password",this.logo="assets/icon/avatar.png"}ngOnInit(){}save(t){t.password===t.passwordRepeat?this.service.registerUser(t).subscribe(n=>{var r,c,p;null!==(r=n.data)&&void 0!==r&&r.error?this.service.presentAlert("Mensaje","Ha ocurrido un error, ya existe un usuario con este correo","Aceptar"):(this.service.presentAlert("Mensaje",`Usuario ${null===(p=null===(c=n.data)||void 0===c?void 0:c.data)||void 0===p?void 0:p.email} agregado correctamente`,"Aceptar"),this.backButton())}):this.service.presentAlert("Mensaje","Las contrase\xf1as no coinciden","Aceptar")}uploadAvatar(){console.log("upload")}togglePasswordMode(){this.passwordType="text"===this.passwordType?"password":"text"}backButton(){this.navCtrl.back()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(z),e.Y36(i.SH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],decls:52,vars:4,consts:[["slot","start"],["color","secondary"],[1,"background-image"],[1,"ion-align-items-center"],["size","2"],["size","8"],[1,"logo"],[3,"src","click"],[3,"submit"],["form","ngForm"],["lines","full"],["position","floating"],["type","text","required","","name","name","ngModel",""],["type","email","required","","name","email","ngModel",""],["required","","name","password","ngModel","",3,"type"],["name","eye","slot","end",3,"click"],["required","","name","passwordRepeat","ngModel","",3,"type"],["name","role","required","","ngModel",""],["size","6"],["value","admin"],["value","user"],["type","submit","color","danger","expand","block",3,"disabled"]],template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Registrar nuevo Usuario"),e.qZA()()(),e.TgZ(6,"ion-content",1)(7,"div",2)(8,"ion-grid")(9,"ion-row",3),e._UZ(10,"ion-col",4),e.TgZ(11,"ion-col",5)(12,"div",6)(13,"img",7),e.NdJ("click",function(){return n.uploadAvatar()}),e.qZA()()(),e._UZ(14,"ion-col",4),e.qZA(),e.TgZ(15,"form",8,9),e.NdJ("submit",function(){e.CHM(r);const p=e.MAs(16);return e.KtG(n.save(p.value))}),e.TgZ(17,"ion-item",10)(18,"ion-label",11),e._uU(19,"Nombre Completo"),e.qZA(),e._UZ(20,"ion-input",12),e.qZA(),e.TgZ(21,"ion-item",10)(22,"ion-label",11),e._uU(23,"Correo"),e.qZA(),e._UZ(24,"ion-input",13),e.qZA(),e.TgZ(25,"ion-item",10)(26,"ion-label",11),e._uU(27,"Contrase\xf1a"),e.qZA(),e._UZ(28,"ion-input",14),e.TgZ(29,"ion-icon",15),e.NdJ("click",function(){return n.togglePasswordMode()}),e.qZA()(),e.TgZ(30,"ion-item",10)(31,"ion-label",11),e._uU(32,"Repetir contrase\xf1a"),e.qZA(),e._UZ(33,"ion-input",16),e.TgZ(34,"ion-icon",15),e.NdJ("click",function(){return n.togglePasswordMode()}),e.qZA()(),e.TgZ(35,"ion-list")(36,"ion-radio-group",17)(37,"ion-row")(38,"ion-col",18)(39,"ion-item")(40,"ion-label"),e._uU(41,"Administrador"),e.qZA(),e._UZ(42,"ion-radio",19),e.qZA()(),e.TgZ(43,"ion-col",18)(44,"ion-item")(45,"ion-label"),e._uU(46,"Usuario"),e.qZA(),e._UZ(47,"ion-radio",20),e.qZA()()()()(),e.TgZ(48,"ion-row")(49,"ion-col")(50,"ion-button",21),e._uU(51,"Registrar"),e.qZA()()()()()()()}if(2&t){const r=e.MAs(16);e.xp6(13),e.Q6J("src",n.logo,e.LSH),e.xp6(15),e.Q6J("type",n.passwordType),e.xp6(5),e.Q6J("type",n.passwordType),e.xp6(17),e.Q6J("disabled",r.invalid)}},dependencies:[v._Y,v.JJ,v.JL,v.Q7,v.On,v.F,i.oU,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.B7,i.se,i.Nd,i.wd,i.sr,i.U5,i.QI,i.j9,i.cs],styles:[".logo[_ngcontent-%COMP%]{height:100%;width:100%;min-height:200px;min-width:200px;max-height:250px;max-width:250px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:100%;width:100%;min-height:200px;min-width:150px}.background-image[_ngcontent-%COMP%]{position:relative;top:0;border-bottom-left-radius:50px;border-bottom-right-radius:50px;height:90%;width:100%;background:url(/assets/images/app-pngArtboard11.png) no-repeat fixed center;background-size:cover;padding-left:25px;padding-right:25px}ion-button[_ngcontent-%COMP%]{height:56px;--border-radius: 20px}ion-content[_ngcontent-%COMP%]{background-color:#fff}ion-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0)}"]}),o})()},{path:"recover-password",component:h},{path:"notifications/:data",component:(()=>{class o{constructor(t,n,r){this.route=t,this.service=n,this.navCtrl=r,this.notifyArray=[],this.showForm=!1}ngOnInit(){this.refreshUser();let t=this.route.snapshot.paramMap.get("data");this.notifyArray=JSON.parse(t)}selectApp(t){"factorh"===(this.app=t,this.showForm=!1,t)?this.loginFactoRH():this.showForm=!1}refreshUser(){this.service.getStorageUser().then(t=>{null!=t&&t.email?this.user=t:this.navCtrl.navigateRoot("login")})}loginFactoRH(){const t=j();this.service.getFactoRHToken(t,this.user.email).subscribe(n=>{if(200===n.status){const r=String(n.data);this.service.redirect(`${Z.N.factorh.url}?token=${r}&user=${this.user.email}&nonce=${t}`)}else this.service.presentAlert("Mensaje","Ha ocurrido un error al generar tu sesi\xf3n, por favor contacta al administrador","Aceptar")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(O.gz),e.Y36(z),e.Y36(i.SH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-notifications"]],decls:12,vars:5,consts:[["no-border","",1,"grey",3,"translucent"],["color","primary",2,"text-align","center"],[4,"ngIf"],[1,"background-image","mb-15","pb-5",3,"fullscreen"],["vertical","top","horizontal","first","edge","","slot","fixed",3,"routerLink"],["color","secondary"],["name","arrow-back-circle-outline"],[1,"custom-image"],[1,"greeting"],["style","margin:10px ;","color","danger",3,"click",4,"ngFor","ngForOf"],["color","danger",2,"margin","10px",3,"click"],["name","mail","slot","start"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e.YNc(2,q,2,0,"ion-title",2),e.qZA()(),e.TgZ(3,"ion-content",3)(4,"ion-fab",4)(5,"ion-fab-button",5),e._UZ(6,"ion-icon",6),e.qZA()(),e.TgZ(7,"div",7),e._UZ(8,"div",8),e.TgZ(9,"div")(10,"ion-list"),e.YNc(11,L,7,0,"ion-item",9),e.qZA()()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(2),e.Q6J("ngIf",!n.showForm),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("routerLink","/home"),e.xp6(7),e.Q6J("ngForOf",n.notifyArray))},dependencies:[x.sg,x.O5,i.W2,i.IJ,i.W4,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.wd,i.sr,i.YI,O.rH],styles:[".custom-image[_ngcontent-%COMP%]{position:absolute;bottom:0;height:100%;width:100%;background-size:cover}.greeting[_ngcontent-%COMP%]{z-index:20;top:0px;height:0%;width:100%;background-color:#000;border-bottom-left-radius:50px;border-bottom-right-radius:50px;padding:50px 50px 0;text-align:center}.custom-subtitle[_ngcontent-%COMP%]{font-size:medium;margin:20px}ion-item[_ngcontent-%COMP%]::part(native){border-width:2px;border-radius:20px}"]}),o})()},{path:"",redirectTo:"home",pathMatch:"full"}];let oe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[O.Bz.forChild(A),O.Bz]}),o})(),ie=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.ez,v.u5,i.Pc,oe]}),o})()}}]);